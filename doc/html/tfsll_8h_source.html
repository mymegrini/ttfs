<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>The Tiny Toy File System: lib/tfsll.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ttfslogo.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">The Tiny Toy File System
   &#160;<span id="projectnumber">By : V. Fontaine, M.Y. Megrini, N. Scotto Di Perto</span>
   </div>
   <div id="projectbrief">System and C language course - Fall semester project 2015</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tfsll_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">tfsll.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="tfsll_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// tfsll.h</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// last-edit-by: &lt;nscott32&gt; </span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// Description: TFS low level library functions</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#ifndef TFSLL_H</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#define TFSLL_H 1</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// HEADERS</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"></span><span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="error_8h.html">error.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ll_8h.html">ll.h</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;semaphore.h&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">//#include &quot;block.h&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// MACROS</span></div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a3ac36dd0f02f263e5966ac1d1ecbd1bd">   24</a></span>&#160;<span class="comment"></span><span class="preprocessor">#define INT_SIZE 4                                </span><span class="comment">/***&lt; Integer size */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="tfsll_8h.html#ab3cced2c7e61ac56e77b55e4ab8ee84e">   25</a></span>&#160;<span class="preprocessor">#define INTX(i) (i*INT_SIZE)                      </span><span class="comment">/***&lt; Integer size multiples */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a3d727b21da561b863f36bc9e991d1aeb">   27</a></span>&#160;<span class="preprocessor">#define TFS_MAGIC_NUMBER 0x31534654               </span><span class="comment">/***&lt; TFS version identifier &quot;TFS1&quot; */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a4de19623a22468b1da65077b95e7f4aa">   28</a></span>&#160;<span class="preprocessor">#define TFS_MAGIC_NUMBER_INDEX INTX(0)            </span><span class="comment">/***&lt; TFS version identifier index in volume superblock */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a43ae1360df25a9025eeb05e5c61ad0d1">   29</a></span>&#160;<span class="preprocessor">#define TFS_VOLUME_BLOCK_SIZE D_BLOCK_SIZE        </span><span class="comment">/***&lt; TFS block size*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a6d273bbe9368d6fc689ef0dd5db13d48">   30</a></span>&#160;<span class="preprocessor">#define TFS_VOLUME_BLOCK_SIZE_INDEX INTX(1)       </span><span class="comment">/***&lt; TFS block size index in volume superblock */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="tfsll_8h.html#ab86080f823e95a4fdcd7afa4684cba3f">   31</a></span>&#160;<span class="preprocessor">#define TFS_VOLUME_BLOCK_COUNT_INDEX INTX(2)      </span><span class="comment">/***&lt; TFS bllock count index in volume superblock */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a6d2c19295d25a4673ec6d87bb70e2ac8">   32</a></span>&#160;<span class="preprocessor">#define TFS_VOLUME_FREE_BLOCK_COUNT_INDEX INTX(3) </span><span class="comment">/***&lt; TFS free block count index in volume superblock */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a46a908a4e9a0d0f719573a2e33e9ddea">   33</a></span>&#160;<span class="preprocessor">#define TFS_VOLUME_FIRST_FREE_BLOCK_INDEX INTX(4) </span><span class="comment">/***&lt; TFS first free block index in volume superblock */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="tfsll_8h.html#acfece0f70bc8b5c53456421b89ef3b28">   34</a></span>&#160;<span class="preprocessor">#define TFS_VOLUME_MAX_FILE_COUNT_INDEX INTX(5)   </span><span class="comment">/***&lt; TFS max file count index in volume superblock */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="tfsll_8h.html#afad8138a1fa09bb23729570e983967b7">   35</a></span>&#160;<span class="preprocessor">#define TFS_VOLUME_FREE_FILE_COUNT_INDEX INTX(6)  </span><span class="comment">/***&lt; TFS free file count index in volume superblock */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="tfsll_8h.html#acf0b1cde5447ab186474424046b9a6de">   36</a></span>&#160;<span class="preprocessor">#define TFS_VOLUME_FIRST_FREE_FILE_INDEX INTX(7)  </span><span class="comment">/***&lt; TFS first free file index in volume superblock */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a52b6e3b7761e4ebc77a578d2ca8ca43c">   38</a></span>&#160;<span class="preprocessor">#define INT_PER_BLOCK (TFS_VOLUME_BLOCK_SIZE/INT_SIZE) </span><span class="comment">/***&lt; Number of integers per block*/</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a38b7bd5a3d30725df6d95a3113d89c3f">   39</a></span>&#160;<span class="preprocessor">#define TFS_FILE_TABLE_INDEX 1                    </span><span class="comment">/***&lt; TFS index of the file table */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="tfsll_8h.html#aa22ff5357087db56d08f3b8c0c6f9ad3">   40</a></span>&#160;<span class="preprocessor">#define TFS_DIRECT_BLOCKS_NUMBER 10               </span><span class="comment">/***&lt; TFS direct data blocks number in file table entry */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="tfsll_8h.html#abd0c343a3bb3184fa31f0c3a88294b61">   41</a></span>&#160;<span class="preprocessor">#define TFS_INDIRECT1_CAPACITY INT_PER_BLOCK      </span><span class="comment">/***&lt; TFS file&#39;s maximum number of indirect1 blocks */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="tfsll_8h.html#af5945193ae1d569b9f7d950c38f318ce">   42</a></span>&#160;<span class="preprocessor">#define TFS_INDIRECT2_CAPACITY (INT_PER_BLOCK*INT_PER_BLOCK) </span><span class="comment">/***&lt; TFS file&#39;s maximum number of indirect2 blocks */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="tfsll_8h.html#aed45414998052fb757f4c770fec74e02">   43</a></span>&#160;<span class="preprocessor">#define TFS_FILE_TABLE_ENTRY_SIZE INTX(6+TFS_DIRECT_BLOCKS_NUMBER) </span><span class="comment">/***&lt; TFS file table entry size */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a27afecb327f96fbb3ad0d6767773f5ba">   44</a></span>&#160;<span class="preprocessor">#define TFS_FILE_SIZE_INDEX INTX(0)               </span><span class="comment">/***&lt; TFS file size index in file table entry */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a6a0eb5e6be865de725cc31cdffecc699">   45</a></span>&#160;<span class="preprocessor">#define TFS_FILE_TYPE_INDEX INTX(1)               </span><span class="comment">/***&lt; TFS file type index in file table entry */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a028a861fdb0e65136d3d8cd3bbafa952">   46</a></span>&#160;<span class="preprocessor">#define TFS_REGULAR_TYPE 0                        </span><span class="comment">/***&lt; TFS regular file table entry type */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a6efd8679719c4321227a1f6befc65c0f">   47</a></span>&#160;<span class="preprocessor">#define TFS_DIRECTORY_TYPE 1                      </span><span class="comment">/***&lt; TFS directory file table entry type */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="tfsll_8h.html#af2fa0178ad06b94296825e5a931c2bc1">   48</a></span>&#160;<span class="preprocessor">#define TFS_PSEUDO_TYPE 2                         </span><span class="comment">/***&lt; TFS pseudo file table entry type */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a5eee393777705b1a679c88aec91de88d">   49</a></span>&#160;<span class="preprocessor">#define TFS_FILE_SUBTYPE_INDEX INTX(2)            </span><span class="comment">/***&lt; TFS file pseudo-type index in file table entry */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="tfsll_8h.html#aca4620feeb23de8f7cf3302585026cff">   50</a></span>&#160;<span class="preprocessor">#define TFS_DATE_SUBTYPE 0                        </span><span class="comment">/***&lt; TFS date file table entry subtype */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a5e2e56b230d8325a55cc72e2f9af3c90">   51</a></span>&#160;<span class="preprocessor">#define TFS_DISK_SUBTYPE 1                        </span><span class="comment">/***&lt; TFS disk file table entry subtype */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a591389ddd89f3c07c0a03966cb1faf9e">   52</a></span>&#160;<span class="preprocessor">#define TFS_DIRECT_INDEX(i) INTX(3+(i))           </span><span class="comment">/***&lt; TFS direct data block &lt;i&gt; file table entry index */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="tfsll_8h.html#ab3dcc2da777bf87e63d9cb8070b47168">   53</a></span>&#160;<span class="preprocessor">#define TFS_INDIRECT1_INDEX INTX(3+TFS_DIRECT_BLOCKS_NUMBER) </span><span class="comment">/***&lt; TFS indirect1 block index in file table entry */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a48a3bdb9b1dec71d356878812ba6f05b">   54</a></span>&#160;<span class="preprocessor">#define TFS_INDIRECT2_INDEX INTX(4+TFS_DIRECT_BLOCKS_NUMBER) </span><span class="comment">/***&lt; TFS indirect2 block index in file table entry */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a1d77894b5286426fb832d6c20b7dca00">   55</a></span>&#160;<span class="preprocessor">#define TFS_NEXT_FREE_FILE_ENTRY_INDEX INTX(5+TFS_DIRECT_BLOCKS_NUMBER) </span><span class="comment">/***&lt; TFS next free file entry index */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="tfsll_8h.html#aace2eb8c05020592229d22de9ccdfea5">   57</a></span>&#160;<span class="preprocessor">#define TFS_VOLUME_NEXT_FREE_BLOCK_INDEX (TFS_VOLUME_BLOCK_SIZE-INT_SIZE) </span><span class="comment">/***&lt; TFS volume next free block index */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a816cc1e92836f67221b09ae0a584f89f">   59</a></span>&#160;<span class="preprocessor">#define TFS_DIRECTORY_ENTRIES_PER_BLOCK         \</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">  (TFS_VOLUME_BLOCK_SIZE/TFS_DIRECTORY_ENTRY_SIZE)</span><span class="comment">/*** Number of directory entries per block */</span><span class="preprocessor"></span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a3996311a3e8a2ae3767ab319208b42a7">   62</a></span>&#160;<span class="preprocessor">#define TFS_NAME_MAX 27                           </span></div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="tfsll_8h.html#ac7dbac63390ee2a2f09061df260fc11e">   63</a></span>&#160;<span class="preprocessor">#define TFS_DIRECTORY_ENTRY_SIZE (INTX(1)+TFS_NAME_MAX+1) </span></div>
<div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="tfsll_8h.html#af1842538def83a1010bc75483c570a73">   64</a></span>&#160;<span class="preprocessor">#define TFS_DIRECTORY_ENTRY_INDEX(i) ((i)*TFS_DIRECTORY_ENTRY_SIZE) </span></div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a7944349ba20407b6c90773deb7ebd07c">   66</a></span>&#160;<span class="preprocessor">#define TFS_FILE_MAX_SIZE (TFS_VOLUME_BLOCK_SIZE            \</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">               *(TFS_DIRECT_BLOCKS_NUMBER           \</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">                 +(TFS_VOLUME_BLOCK_SIZE/INT_SIZE)      \</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">                 *(1 + (TFS_VOLUME_BLOCK_SIZE/INT_SIZE))    \</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">                 )                      \</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">               )</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a6e8a82646ec6096e70b8e92753bb0e90">   73</a></span>&#160;<span class="preprocessor">#define TFS_FILE_MAX 400                          </span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a3c9a5302e4060781cbb93f2a61fd1e99">   75</a></span>&#160;<span class="preprocessor">#define TFS_ISREG(mode) (mode == TFS_REGULAR_TYPE)</span></div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="tfsll_8h.html#abec0df7545e65e2b3810ca3a928381b2">   76</a></span>&#160;<span class="preprocessor">#define TFS_ISDIR(mode) (mode == TFS_DIRECTORY_TYPE)</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">// TYPES</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structdirent.html">   87</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structdirent.html">dirent</a> {</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structdirent.html#a5b1ae2e5299876731c54409ebe62e8bf">   88</a></span>&#160;  uint32_t       <a class="code" href="structdirent.html#a5b1ae2e5299876731c54409ebe62e8bf">d_ino</a>;       </div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="structdirent.html#a77ab5fc95e427fce262e6738c6ab02ca">   89</a></span>&#160;  <span class="keywordtype">char</span>           <a class="code" href="structdirent.html#a77ab5fc95e427fce262e6738c6ab02ca">d_name</a>[<a class="code" href="tfsll_8h.html#a3996311a3e8a2ae3767ab319208b42a7">TFS_NAME_MAX</a>+1];  </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;};</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a5aa8e0c7392f5bc2a696acb3228c13cd">   97</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__index.html">_index</a>* <a class="code" href="tfsll_8h.html#a5aa8e0c7392f5bc2a696acb3228c13cd">_index</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="struct_file.html">   99</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span>{</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="struct_file.html#a3be1ad207c610c62db1aefadd4f7b1ad">  100</a></span>&#160;  <a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <a class="code" href="struct_file.html#a3be1ad207c610c62db1aefadd4f7b1ad">id</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="struct_file.html#ae2b5f39731a59892a2da3865d1867c19">  101</a></span>&#160;  uint32_t <a class="code" href="struct_file.html#ae2b5f39731a59892a2da3865d1867c19">vol_addr</a>;</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="struct_file.html#a84dc3916ea975b79482a6d01f78c3d9f">  102</a></span>&#160;  uint32_t <a class="code" href="struct_file.html#a84dc3916ea975b79482a6d01f78c3d9f">inode</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="struct_file.html#a5c905d8d60d9e4d58e9a4a5ec07ec44c">  103</a></span>&#160;  sem_t* <a class="code" href="struct_file.html#a5c905d8d60d9e4d58e9a4a5ec07ec44c">sem</a>;</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="struct_file.html#a894bdfa2d603d8343f8ef01dda6fcd23">  104</a></span>&#160;  uint32_t <a class="code" href="struct_file.html#a894bdfa2d603d8343f8ef01dda6fcd23">offset</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="struct_file.html#ac8bf36fe0577cba66bccda3a6f7e80a4">  105</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_file.html#ac8bf36fe0577cba66bccda3a6f7e80a4">flags</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="struct_file.html#ac765329451135abec74c45e1897abf26">  106</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_file.html#ac765329451135abec74c45e1897abf26">type</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="struct_file.html#a7aacd365cfc725fe569f28df862fa5eb">  107</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_file.html#a7aacd365cfc725fe569f28df862fa5eb">subtype</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;} <a class="code" href="struct_file.html">File</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="structf__stat.html">  110</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct</span>{</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structf__stat.html#ab2c6b258f02add8fdf4cfc7c371dd772">  111</a></span>&#160;  uint32_t <a class="code" href="structf__stat.html#ab2c6b258f02add8fdf4cfc7c371dd772">size</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structf__stat.html#ad44b615021ed3ccb734fcaf583ef4a03">  112</a></span>&#160;  uint32_t <a class="code" href="structf__stat.html#ad44b615021ed3ccb734fcaf583ef4a03">type</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structf__stat.html#aed06f4a516930ca81d204d53c61a1ef3">  113</a></span>&#160;  uint32_t <a class="code" href="structf__stat.html#aed06f4a516930ca81d204d53c61a1ef3">subtype</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;} <a class="code" href="structf__stat.html">f_stat</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">// VARIABLES</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a946115fcb77d278501387ed402c158e8">  120</a></span>&#160;<a class="code" href="struct_file.html">File</a>* <a class="code" href="tfsll_8h.html#a946115fcb77d278501387ed402c158e8">_filedes</a>[<a class="code" href="tfsll_8h.html#a6e8a82646ec6096e70b8e92753bb0e90">TFS_FILE_MAX</a>];</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">// FUNCTIONS</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<a class="code" href="tfsll_8h.html#a095690b3277138c0ccbd7a2019235462">freeblock_push</a> (<a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <span class="keywordtype">id</span>, uint32_t vol_addr, uint32_t b_addr);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<a class="code" href="tfsll_8h.html#a7431b03d0c11b1c93ea11118bd60fabd">freeblock_pop</a> (<a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <span class="keywordtype">id</span>, uint32_t vol_addr, uint32_t* b_addr);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<a class="code" href="tfsll_8h.html#aa0ccdca757263fd288943ccba21909bc">freefile_push</a> (<a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <span class="keywordtype">id</span>, uint32_t vol_addr, uint32_t inode);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<a class="code" href="tfsll_8h.html#a1d08bc0170d3e081e26a2d7441bc4a92">freefile_pop</a> (<a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <span class="keywordtype">id</span>, uint32_t vol_addr, uint32_t* inode);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<a class="code" href="tfsll_8h.html#ac376ff0d970d2f3437edf6e09d82170e">fileblock_add</a> (<a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <span class="keywordtype">id</span>, uint32_t vol_addr, uint32_t inode, _index index);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<a class="code" href="tfsll_8h.html#afe57eeb72e31c7b2ca077807f0787500">fileblock_rm</a> (<a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <span class="keywordtype">id</span>, uint32_t vol, uint32_t inode, _index index);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<a class="code" href="tfsll_8h.html#a940934770f197ee97fed5de4fe942ed6">file_realloc</a> (<a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <span class="keywordtype">id</span>, uint32_t vol_addr, uint32_t inode, uint32_t size);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<a class="code" href="tfsll_8h.html#a618e4290740503706a957cd26e092c0d">directory_pushent</a> (<span class="keyword">const</span> <a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> uint32_t vol_addr,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;           <span class="keyword">const</span> uint32_t inode, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structdirent.html">dirent</a> *entry );</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<a class="code" href="tfsll_8h.html#a9ed5c542df5caae00d510b01405bc9e8">directory_rment</a> (<span class="keyword">const</span> <a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> uint32_t vol_addr,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;         <span class="keyword">const</span> uint32_t inode, <span class="keywordtype">char</span> *name);</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<a class="code" href="tfsll_8h.html#a129b535b3f0f857c2701b27a28f814a3">file_freeblocks</a> (<a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <span class="keywordtype">id</span>, uint32_t vol, uint32_t inode);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<a class="code" href="tfsll_8h.html#a702498aa39340b1e33ff2c83224e0265">find_addr</a>(<a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <span class="keywordtype">id</span>, uint32_t vol_addr, uint32_t inode,</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      uint32_t b_file_addr, uint32_t* b_addr);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="keywordtype">int</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<a class="code" href="tfsll_8h.html#a4fd3b89272908cad415e7e1855ed8a86">file_open</a> (<a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <span class="keywordtype">id</span>, uint32_t vol_addr, uint32_t inode, <span class="keywordtype">int</span> flags,</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;       <span class="keywordtype">int</span> type, <span class="keywordtype">int</span> subtype);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="tfsll_8h.html#af48c6cbff31d36a09f90930e21ff583e">  277</a></span>&#160;<span class="preprocessor">#define TFS_PATHLEAF 1</span></div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a8b6f04089e88e8e877e8bec282805e14">  278</a></span>&#160;<span class="preprocessor">#define TFS_ERRPATH_NOPFX 104</span></div>
<div class="line"><a name="l00279"></a><span class="lineno"><a class="line" href="tfsll_8h.html#a1e18bb9f938a21a89dc4baf9a37c679e">  279</a></span>&#160;<span class="preprocessor">#define TFS_ERRPATH_NOWORKINGPATH 200</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<a class="code" href="tfsll_8h.html#ad5ce0a90a4a2d05d3cb3320bd11282cf">path_follow</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> * path, <span class="keywordtype">char</span> ** entry);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<a class="code" href="tfsll_8h.html#af280f659740380b38b0b222e9c87a5fd">path_split</a> (<span class="keywordtype">char</span> *path, <span class="keywordtype">char</span> **last_element);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<a class="code" href="tfsll_8h.html#a622de912f80a619dd913b591e55ce58a">find_inode</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *path, uint32_t *ino);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<a class="code" href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<a class="code" href="tfsll_8h.html#a5d2a02f4e67ae4a0f2ad924ad8603bef">file_stat</a> (<a class="code" href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a> <span class="keywordtype">id</span>, uint32_t vol_addr, uint32_t inode, <a class="code" href="structf__stat.html">f_stat</a>* stat);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="preprocessor">#endif // TFSLL_H</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">// $Log:$</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">//</span></div>
<div class="ttc" id="tfsll_8h_html_a1d08bc0170d3e081e26a2d7441bc4a92"><div class="ttname"><a href="tfsll_8h.html#a1d08bc0170d3e081e26a2d7441bc4a92">freefile_pop</a></div><div class="ttdeci">error freefile_pop(disk_id id, uint32_t vol_addr, uint32_t *inode)</div><div class="ttdoc">Remove the file entry <inode> from the free file entry list. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l00608">tfsll.c:608</a></div></div>
<div class="ttc" id="structf__stat_html_ad44b615021ed3ccb734fcaf583ef4a03"><div class="ttname"><a href="structf__stat.html#ad44b615021ed3ccb734fcaf583ef4a03">f_stat::type</a></div><div class="ttdeci">uint32_t type</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00112">tfsll.h:112</a></div></div>
<div class="ttc" id="tfsll_8h_html_a940934770f197ee97fed5de4fe942ed6"><div class="ttname"><a href="tfsll_8h.html#a940934770f197ee97fed5de4fe942ed6">file_realloc</a></div><div class="ttdeci">error file_realloc(disk_id id, uint32_t vol_addr, uint32_t inode, uint32_t size)</div><div class="ttdoc">Change size of file <inode> to size <size> </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l00667">tfsll.c:667</a></div></div>
<div class="ttc" id="ll_8h_html_acb803223aeb697a794ba4d306d49fe2e"><div class="ttname"><a href="ll_8h.html#acb803223aeb697a794ba4d306d49fe2e">disk_id</a></div><div class="ttdeci">uint8_t disk_id</div><div class="ttdef"><b>Definition:</b> <a href="ll_8h_source.html#l00019">ll.h:19</a></div></div>
<div class="ttc" id="tfsll_8h_html_a3996311a3e8a2ae3767ab319208b42a7"><div class="ttname"><a href="tfsll_8h.html#a3996311a3e8a2ae3767ab319208b42a7">TFS_NAME_MAX</a></div><div class="ttdeci">#define TFS_NAME_MAX</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00062">tfsll.h:62</a></div></div>
<div class="ttc" id="tfsll_8h_html_a946115fcb77d278501387ed402c158e8"><div class="ttname"><a href="tfsll_8h.html#a946115fcb77d278501387ed402c158e8">_filedes</a></div><div class="ttdeci">File * _filedes[TFS_FILE_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00120">tfsll.h:120</a></div></div>
<div class="ttc" id="structdirent_html"><div class="ttname"><a href="structdirent.html">dirent</a></div><div class="ttdoc">Directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00087">tfsll.h:87</a></div></div>
<div class="ttc" id="tfsll_8h_html_a622de912f80a619dd913b591e55ce58a"><div class="ttname"><a href="tfsll_8h.html#a622de912f80a619dd913b591e55ce58a">find_inode</a></div><div class="ttdeci">error find_inode(const char *path, uint32_t *ino)</div><div class="ttdoc">Recover filenumber from a valid path. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l01173">tfsll.c:1173</a></div></div>
<div class="ttc" id="structdirent_html_a5b1ae2e5299876731c54409ebe62e8bf"><div class="ttname"><a href="structdirent.html#a5b1ae2e5299876731c54409ebe62e8bf">dirent::d_ino</a></div><div class="ttdeci">uint32_t d_ino</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00088">tfsll.h:88</a></div></div>
<div class="ttc" id="error_8h_html"><div class="ttname"><a href="error_8h.html">error.h</a></div></div>
<div class="ttc" id="tfsll_8h_html_a618e4290740503706a957cd26e092c0d"><div class="ttname"><a href="tfsll_8h.html#a618e4290740503706a957cd26e092c0d">directory_pushent</a></div><div class="ttdeci">error directory_pushent(const disk_id id, const uint32_t vol_addr, const uint32_t inode, const struct dirent *entry)</div><div class="ttdoc">Push the directory entry to the directory. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l00838">tfsll.c:838</a></div></div>
<div class="ttc" id="tfsll_8h_html_aa0ccdca757263fd288943ccba21909bc"><div class="ttname"><a href="tfsll_8h.html#aa0ccdca757263fd288943ccba21909bc">freefile_push</a></div><div class="ttdeci">error freefile_push(disk_id id, uint32_t vol_addr, uint32_t inode)</div><div class="ttdoc">Push the file entry <inode> to the free file entry list. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l00564">tfsll.c:564</a></div></div>
<div class="ttc" id="struct_file_html_ae2b5f39731a59892a2da3865d1867c19"><div class="ttname"><a href="struct_file.html#ae2b5f39731a59892a2da3865d1867c19">File::vol_addr</a></div><div class="ttdeci">uint32_t vol_addr</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00101">tfsll.h:101</a></div></div>
<div class="ttc" id="structf__stat_html"><div class="ttname"><a href="structf__stat.html">f_stat</a></div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00110">tfsll.h:110</a></div></div>
<div class="ttc" id="tfsll_8h_html_a4fd3b89272908cad415e7e1855ed8a86"><div class="ttname"><a href="tfsll_8h.html#a4fd3b89272908cad415e7e1855ed8a86">file_open</a></div><div class="ttdeci">int file_open(disk_id id, uint32_t vol_addr, uint32_t inode, int flags, int type, int subtype)</div><div class="ttdoc">This function returns a file descriptor for use in subsequent system calls. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l00775">tfsll.c:775</a></div></div>
<div class="ttc" id="tfsll_8h_html_a7431b03d0c11b1c93ea11118bd60fabd"><div class="ttname"><a href="tfsll_8h.html#a7431b03d0c11b1c93ea11118bd60fabd">freeblock_pop</a></div><div class="ttdeci">error freeblock_pop(disk_id id, uint32_t vol_addr, uint32_t *b_addr)</div><div class="ttdoc">Remove the block at b_addr of the free blocks list. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l00505">tfsll.c:505</a></div></div>
<div class="ttc" id="struct__index_html"><div class="ttname"><a href="struct__index.html">_index</a></div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l00065">tfsll.c:65</a></div></div>
<div class="ttc" id="structf__stat_html_ab2c6b258f02add8fdf4cfc7c371dd772"><div class="ttname"><a href="structf__stat.html#ab2c6b258f02add8fdf4cfc7c371dd772">f_stat::size</a></div><div class="ttdeci">uint32_t size</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00111">tfsll.h:111</a></div></div>
<div class="ttc" id="tfsll_8h_html_a095690b3277138c0ccbd7a2019235462"><div class="ttname"><a href="tfsll_8h.html#a095690b3277138c0ccbd7a2019235462">freeblock_push</a></div><div class="ttdeci">error freeblock_push(disk_id id, uint32_t vol_addr, uint32_t b_addr)</div><div class="ttdoc">Push the block <b_addr> to the free blocks list. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l00459">tfsll.c:459</a></div></div>
<div class="ttc" id="struct_file_html_a7aacd365cfc725fe569f28df862fa5eb"><div class="ttname"><a href="struct_file.html#a7aacd365cfc725fe569f28df862fa5eb">File::subtype</a></div><div class="ttdeci">int subtype</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00107">tfsll.h:107</a></div></div>
<div class="ttc" id="struct_file_html"><div class="ttname"><a href="struct_file.html">File</a></div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00099">tfsll.h:99</a></div></div>
<div class="ttc" id="tfsll_8h_html_afe57eeb72e31c7b2ca077807f0787500"><div class="ttname"><a href="tfsll_8h.html#afe57eeb72e31c7b2ca077807f0787500">fileblock_rm</a></div><div class="ttdeci">error fileblock_rm(disk_id id, uint32_t vol, uint32_t inode, _index index)</div><div class="ttdoc">Remove a data block from a file. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l00375">tfsll.c:375</a></div></div>
<div class="ttc" id="tfsll_8h_html_a6e8a82646ec6096e70b8e92753bb0e90"><div class="ttname"><a href="tfsll_8h.html#a6e8a82646ec6096e70b8e92753bb0e90">TFS_FILE_MAX</a></div><div class="ttdeci">#define TFS_FILE_MAX</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00073">tfsll.h:73</a></div></div>
<div class="ttc" id="struct_file_html_a84dc3916ea975b79482a6d01f78c3d9f"><div class="ttname"><a href="struct_file.html#a84dc3916ea975b79482a6d01f78c3d9f">File::inode</a></div><div class="ttdeci">uint32_t inode</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00102">tfsll.h:102</a></div></div>
<div class="ttc" id="tfsll_8h_html_a5aa8e0c7392f5bc2a696acb3228c13cd"><div class="ttname"><a href="tfsll_8h.html#a5aa8e0c7392f5bc2a696acb3228c13cd">_index</a></div><div class="ttdeci">struct _index * _index</div><div class="ttdoc">File index tree. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00097">tfsll.h:97</a></div></div>
<div class="ttc" id="struct_file_html_a5c905d8d60d9e4d58e9a4a5ec07ec44c"><div class="ttname"><a href="struct_file.html#a5c905d8d60d9e4d58e9a4a5ec07ec44c">File::sem</a></div><div class="ttdeci">sem_t * sem</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00103">tfsll.h:103</a></div></div>
<div class="ttc" id="struct_file_html_ac765329451135abec74c45e1897abf26"><div class="ttname"><a href="struct_file.html#ac765329451135abec74c45e1897abf26">File::type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00106">tfsll.h:106</a></div></div>
<div class="ttc" id="structf__stat_html_aed06f4a516930ca81d204d53c61a1ef3"><div class="ttname"><a href="structf__stat.html#aed06f4a516930ca81d204d53c61a1ef3">f_stat::subtype</a></div><div class="ttdeci">uint32_t subtype</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00113">tfsll.h:113</a></div></div>
<div class="ttc" id="struct_file_html_a894bdfa2d603d8343f8ef01dda6fcd23"><div class="ttname"><a href="struct_file.html#a894bdfa2d603d8343f8ef01dda6fcd23">File::offset</a></div><div class="ttdeci">uint32_t offset</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00104">tfsll.h:104</a></div></div>
<div class="ttc" id="struct_file_html_a3be1ad207c610c62db1aefadd4f7b1ad"><div class="ttname"><a href="struct_file.html#a3be1ad207c610c62db1aefadd4f7b1ad">File::id</a></div><div class="ttdeci">disk_id id</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00100">tfsll.h:100</a></div></div>
<div class="ttc" id="tfsll_8h_html_af280f659740380b38b0b222e9c87a5fd"><div class="ttname"><a href="tfsll_8h.html#af280f659740380b38b0b222e9c87a5fd">path_split</a></div><div class="ttdeci">error path_split(char *path, char **last_element)</div><div class="ttdoc">Split a path between parent directory path and last element. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l01152">tfsll.c:1152</a></div></div>
<div class="ttc" id="structdirent_html_a77ab5fc95e427fce262e6738c6ab02ca"><div class="ttname"><a href="structdirent.html#a77ab5fc95e427fce262e6738c6ab02ca">dirent::d_name</a></div><div class="ttdeci">char d_name[TFS_NAME_MAX+1]</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00089">tfsll.h:89</a></div></div>
<div class="ttc" id="tfsll_8h_html_a702498aa39340b1e33ff2c83224e0265"><div class="ttname"><a href="tfsll_8h.html#a702498aa39340b1e33ff2c83224e0265">find_addr</a></div><div class="ttdeci">error find_addr(disk_id id, uint32_t vol_addr, uint32_t inode, uint32_t b_file_addr, uint32_t *b_addr)</div><div class="ttdoc">Finds a file block&#39;s volume address. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l00719">tfsll.c:719</a></div></div>
<div class="ttc" id="tfsll_8h_html_ac376ff0d970d2f3437edf6e09d82170e"><div class="ttname"><a href="tfsll_8h.html#ac376ff0d970d2f3437edf6e09d82170e">fileblock_add</a></div><div class="ttdeci">error fileblock_add(disk_id id, uint32_t vol_addr, uint32_t inode, _index index)</div><div class="ttdoc">Add a data block to a file. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l00285">tfsll.c:285</a></div></div>
<div class="ttc" id="ll_8h_html"><div class="ttname"><a href="ll_8h.html">ll.h</a></div></div>
<div class="ttc" id="tfsll_8h_html_ad5ce0a90a4a2d05d3cb3320bd11282cf"><div class="ttname"><a href="tfsll_8h.html#ad5ce0a90a4a2d05d3cb3320bd11282cf">path_follow</a></div><div class="ttdeci">error path_follow(const char *path, char **entry)</div><div class="ttdoc">Follow a path. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l01120">tfsll.c:1120</a></div></div>
<div class="ttc" id="tfsll_8h_html_a5d2a02f4e67ae4a0f2ad924ad8603bef"><div class="ttname"><a href="tfsll_8h.html#a5d2a02f4e67ae4a0f2ad924ad8603bef">file_stat</a></div><div class="ttdeci">error file_stat(disk_id id, uint32_t vol_addr, uint32_t inode, f_stat *stat)</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l01257">tfsll.c:1257</a></div></div>
<div class="ttc" id="struct_file_html_ac8bf36fe0577cba66bccda3a6f7e80a4"><div class="ttname"><a href="struct_file.html#ac8bf36fe0577cba66bccda3a6f7e80a4">File::flags</a></div><div class="ttdeci">int flags</div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8h_source.html#l00105">tfsll.h:105</a></div></div>
<div class="ttc" id="tfsll_8h_html_a129b535b3f0f857c2701b27a28f814a3"><div class="ttname"><a href="tfsll_8h.html#a129b535b3f0f857c2701b27a28f814a3">file_freeblocks</a></div><div class="ttdeci">error file_freeblocks(disk_id id, uint32_t vol, uint32_t inode)</div><div class="ttdoc">Free all data blocks of a file. </div></div>
<div class="ttc" id="tfsll_8h_html_a9ed5c542df5caae00d510b01405bc9e8"><div class="ttname"><a href="tfsll_8h.html#a9ed5c542df5caae00d510b01405bc9e8">directory_rment</a></div><div class="ttdeci">error directory_rment(const disk_id id, const uint32_t vol_addr, const uint32_t inode, char *name)</div><div class="ttdoc">Remove a directory entry. </div><div class="ttdef"><b>Definition:</b> <a href="tfsll_8c_source.html#l01062">tfsll.c:1062</a></div></div>
<div class="ttc" id="error_8h_html_a8765e3594431b5759071393ed6de3e45"><div class="ttname"><a href="error_8h.html#a8765e3594431b5759071393ed6de3e45">error</a></div><div class="ttdeci">uint8_t error</div><div class="ttdef"><b>Definition:</b> <a href="error_8h_source.html#l00013">error.h:13</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="tfsll_8h.html">tfsll.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
